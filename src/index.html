<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="index.css">
    <script src="./assets/jquery-3.7.1.min.js"></script>
  </head>
  <body>
    <div class="body">
      <div class="searchBar">
        <img src="./assets/search.svg" class="searchIcon">
        <input type="text" name="search" id="search" class="search" placeholder="Search away...">
      </div>

      <div class="resultBox">

        <!-- <div class="result">
          <a href="https://www.flaticon.com/free-icons/google" title="google icons">Google icons created by Freepik - Flaticon</a>
           <img src="./assets/google.png" class="resimg">
           <p>Search in Google for "firefox"</p>
        </div> -->

      </div>
    </div>
    <script>

      $(".resultBox").slideUp(); // Start with the result box closed
    
      // Whenever the search bar is being edited
      $("#search").on('input', ()=>{
        let text = $("#search").val(); // Get the text entered

        // If text is noe empty
        if(text.length > 0) {
          // Show the result box
          $(".resultBox").slideDown();
        }
        if(text.length == 0) {
          // Else close the result box
          $('.resultBox').slideUp();
        }

        // Clear all the results from the previous query
        $(".resultBox").empty();

        // Generate a new set of results

        // First Result will be an option for google search
        // let google_search = generate_result("./assets/google.png", `Search in google fo ${text}`);
        // $(".resultBox").append(google_search);
      });

      // If the search loses focus, close the result box
      $("#search").on('blur', () => {
        $(".resultBox").slideUp();
        $("#search").val("");
      });

      // Generates results for queries
      function generate_result(icon, text) {
        let res = document.createElement('div');
        res.className = "result";

        let img = document.createElement('img');
        img.className = "resimg";
        img.src = icon;
        
        let p = document.createElement('p');
        p.innerHTML = text;

        res.appendChild(img);
        res.appendChild(p);

        return res;
      }
    </script>
  </body>
</html>
